\documentclass[10pt,fleqn]{article}
\usepackage{hyperref}
\usepackage{graphicx}

\setlength{\topmargin}{-.75in}
\addtolength{\textheight}{2.00in}
\setlength{\oddsidemargin}{.00in}
\addtolength{\textwidth}{.75in}

\nofiles

\pagestyle{empty}

\setlength{\parindent}{0in}

\input{../../../tex/commands/commands}

\begin{document}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\vskip0.1in\hrule\vskip0.1in
\noindent
{\large{\bf Math 4610 Fundamentals of Computational Mathematics - Topic 6.}}
\vskip0.1in\hrule\vskip0.1in

This section will give a simple example of writing a code, compiling a code, and
executing a code in a terminal. First start up a terminal to do the work to
create a file with code in it. For Cygwin, double click on the Cygwin Icon on
your desktop or click on the the icon in the task bar if the app is pinned to
the taskbar.

A terminal as shown below will appear. In these notes, we will create a
directory for each project we build. In addition, we will add in a directory
structure to keep track of source code files and binaries as needed. The project
we will work on is the usual \lq\lq hello world\rq\rq\ code that we all have
seen in programming classes.

So, we will want to create a directory to keep track of the project files and
such. Suppose we want to organize the directory structure that keeps track of
the work we do in Math 4610 and also the projects in the course. Then it would
make sense to have a subfolder for the class, say math4610, and subfolders
contained in math4610 for each project. One way to do this involves a sequence
of three commands.
\begin{verbatim} 

    koebbe% mkdir math4610
    koebbe% cd math4610
    koebbe% mkdir project

\end{verbatim} 
This will create the subfolder, math4610, change the working directory to
math4610 and then make a subfolder named project.

Let's consider the hello world example from the previous topic. The commands
to set this up would be
\begin{verbatim} 

    koebbe% mkdir math4610
    koebbe% cd math4610
    koebbe% mkdir hello_world 

\end{verbatim} 
Most Linux/Unix commands have shortcuts for operations like this. We could just
as easily used the following command to get the same two subfolders.
\begin{verbatim}

    koebbe% mkdir -p math4610/hello_world

\end{verbatim}
The -p flag will create parent directories as needed. In our case, if the folder
./math4610 does not exist, the folder will be created and then the
./math4610//hello\_world/ is created if it does not already exist. If the parent
folders exist, the command will continue down through the folders. This command
will not change existing files and folders in the folder tree.

To see that this has worked, list the files in the current folder.
\begin{verbatim}

    koebbe% ls

\end{verbatim}
Now, let's get to the appropriate folder using the cd or change directory
command.
\begin{verbatim}

    koebbe% cd math4610/hello_world

\end{verbatim}
Notice the folder name we are using is a subfolder and the Linux/Unix file
separator is the \lq\lq \/ \rq\rq\ character between the folder names. In any
case, our terminal session should be in the appropriate subfolder.

Within the project folder, we should try to be organized in the development of
the code. Type in the command shown below to create a new subfolder in the
current directory where we can store the program file we are going to create.
\begin{verbatim}

    koebbe% mkdir src

\end{verbatim}
The commands to this point in the process are shown in the following figure.
\vskip0.1in\hrule\vskip0.1in
\vfill
\begin{figure}[h]
\centering
\includegraphics[width=5.0in]{../images/hello_world_01.png}
\caption{The commands in the window set up the file structure for the hello
         world example. The ls command is used to verify the folders have been
         created.}
\end{figure}
\eject
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\vskip0.1in\hrule\vskip0.1in \noindent
{\bf Change Directory and Edit} 
\vskip0.1in\hrule\vskip0.1in \noindent
To change the directory, use the command
\begin{verbatim}

    koebbe% cd src

\end{verbatim}
Once in the new directory, the next step is to edit a file to implement some
sort of action for the computer. So, to edit a file, type:
\begin{verbatim}

    koebbe% vim hello.c

\end{verbatim}
The editor, \lq\lq vim\rq\rq, is a very standard editor and comes with the
installation of Cygwin.
\vskip0.1in\hrule\vskip0.1in
\vfill
\begin{figure}[h]
\centering
\includegraphics[width=5.0in]{../images/hello_world_02.png}
\caption{The next step is to list the current folder, change into the \/src
         folder, and start up an editor to build the program}
\end{figure}
\eject
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\vskip0.1in\hrule\vskip0.1in
\noindent
{\bf Typing in a Program in C with vim} 
\vskip0.1in\hrule\vskip0.1in
\noindent
When the vim command is executed, the terminal you are using will look like the
following screenshot. Since the file, hello.c, did not exist, the view that you
see is an empty file ready to be modified.
\vskip0.1in\hrule\vskip0.1in
\vfill
\begin{figure}[h]
\centering
\includegraphics[width=5.0in]{../images/hello_world_03.png}
\caption{For a new/empty file, when the vim command executes the terminal will
         look like the screenshot in this figure.}
\end{figure}
\eject
\vskip0.1in\hrule\vskip0.1in
\noindent
To get a program into a text file, start by typing in the vim command
\lq\lq\ a\rq\rq\ to append characters to the file we are creating. The vim
commands will not explicitly show up unless input is needed. The lines in the
terminal shown below define a C program for doing a very simple task. Namely, to
print the string
\begin{verbatim}

    Hello World!

\end{verbatim}
to the screen.
\vskip0.1in\hrule\vskip0.1in
\vfill
\begin{figure}[h]
\centering
\includegraphics[width=5.0in]{../images/hello_world_04.png}
\caption{One version of how to write the code to print the Hello World! string
         is shown in this figure.}
\end{figure}
\eject
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\vskip0.1in\hrule\vskip0.1in
\noindent
{\bf Saving the File and Getting Back to the Command Prompt} 
\vskip0.1in\hrule\vskip0.1in
\noindent
To exit the vim session and save the file, type in a colon character
\lq\lq :\rq\rq\ followed by x and return. The terminal will revert to the
command terminal ready to type in commands. The \lq\lq x\rq\rq\ vim command
tells vim to exit the edit session and save the file.
\vskip0.1in\hrule\vskip0.1in
\vfill
\begin{figure}[h]
\centering
\includegraphics[width=5.0in]{../images/hello_world_05.png}
\caption{Once the characters are all typed in, the next step is to save and exit
         vim.}
\end{figure}
\eject
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\vskip0.1in\hrule\vskip0.1in \noindent
{\bf Making sure the File Exists} 
\vskip0.1in\hrule\vskip0.1in \noindent
At the command prompt, the first two lines will be as they were to start. The
next command lists the directory and shows the file \lq\lq hello.c\rq\rq\ now
exists in the folder.
\vskip0.1in\hrule\vskip0.1in
\vfill
\begin{figure}[h]
\centering
\includegraphics[width=5.0in]{../images/hello_world_06.png}
\caption{Using ls to make sure hello.c has been created.}
\end{figure}
\eject
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\vskip0.1in\hrule\vskip0.1in
{\bf Compiling the Code in C} 
\vskip0.1in\hrule\vskip0.1in \noindent
\noindent
After this, the next thing to do is to compile the code. The compiler we will
use is gcc which comes along with Cygwin and many other computer platforms.
That is,
\begin{verbatim}

    koebbe% gcc hello.c

\end{verbatim}
will compile the program and create an executable file for you. The last part
below is used to see what is in the directory. The command does not create a
response unless there is an error occurs. This will produce an executable file. If a name is not specified for the executable, gcc produces a file with a
default name, a.out.
\vskip0.1in\hrule\vskip0.1in
\vfill
\begin{figure}[h]
\centering
\includegraphics[width=5.0in]{../images/hello_world_07.png}
\caption{The commands for compiling the code is shown in this figure.}
\end{figure}
\eject
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\vskip0.1in\hrule\vskip0.1in \noindent
{\bf Running the Code} 
\vskip0.1in\hrule\vskip0.1in \noindent
To run the computer code, use the following command.
\begin{verbatim}

    koebbe% a.out

\end{verbatim}
or
\begin{verbatim}

    koebbe% ./a.out

\end{verbatim}
The \lq\lq .\/\rq\rq will execute a binary in the current directory.
\vskip0.1in\hrule\vskip0.1in
\noindent
Once we have an executable file, hello.exe, the code can be run as follows.
\begin{verbatim}

    koebbe% ./hello.exe

\end{verbatim}
The output from this command will be as shown in the image below. The output is
printed on the first line.
\vskip0.1in\hrule\vskip0.1in
\vfill
\begin{figure}[h]
\centering
\includegraphics[width=5.0in]{../images/hello_world_08.png}
\caption{The command to execute the computer code you have written.}
\end{figure}
\eject
\vskip0.1in\hrule\vskip0.1in
\vfill
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\vskip0.1in\hrule\vskip0.1in \noindent
{\bf Changing the Name of an Executable} 
\vskip0.1in\hrule\vskip0.1in \noindent
Next, let's use an appropriate name for the executable. We can use the mv
command as follows:
\begin{verbatim}

    koebbe% mv a.out hello.exe

\end{verbatim}
or we can use a flag on gcc to rename the executable as follows.
\begin{verbatim}

    koebbe% rm a.out
    koebbe% gcc -o hello hello.c

\end{verbatim}
This will produce an executable with name \lq\lq\ hello\rq\rq\ in the current
folder. To test the new executable file we can try
\begin{verbatim}

    koebbe% ./hello.exe

\end{verbatim}
to obtain the same result as before.
\begin{figure}[h]
\centering
\includegraphics[width=5.0in]{../images/hello_world_09.png}
\caption{How to Rename the Executable for Future Use}
\end{figure}
\eject
\vskip0.1in\hrule\vskip0.1in
\vfill
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\vskip0.1in\hrule\vskip0.1in \noindent
{\bf A Slight Change to the Directory Structure} 
\vskip0.1in\hrule\vskip0.1in \noindent
As a personal preference, we might want to put the executable in a place for
executable files. In a lot of Linux/Unix platforms, the folder \lq\lq bin\rq\rq\
is used to contain all executable files. So, the last thing to do would be to
create a bin folder and place our executable hello.exe in that folder. To that
end we can use the following commands.
\begin{verbatim}

    koebbe% mkdir ../bin
    koebbe% mv hello.exe ../bin
    koebbe% cd ..
    koebbe% ls
    koebbe% ./bin/hello.exe

\end{verbatim}
The last command of the three is included to test the binary in its new
location. Since the cd command moves us up one level, the src and bin folders
are a subfolder of hello\_world.
\vfill
\begin{figure}[h]
\centering
\includegraphics[width=5.0in]{../images/hello_world_10.png}
\caption{Organizing a File Structure to keep Track of binaries and source files}
\end{figure}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\vskip0.1in\hrule\vskip0.1in \noindent
  \href{../../topic_05/md/topic_05.md}{Previous} |
  \href{../../toc/md/topic_toc.md}{Table of Contents} |
  \href{../../topic_07/md/topic_07.md}{Next}
\vskip0.1in\hrule\vskip0.1in \noindent
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\end{document}
